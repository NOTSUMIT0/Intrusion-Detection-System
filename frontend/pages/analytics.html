<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>IDS | Analytics</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="../public/output.css" rel="stylesheet">
</head>

<body class="bg-[#0b0f19] text-gray-200 min-h-screen flex">

  <!-- ================= SIDEBAR ================= -->
  <aside class="w-64 bg-[#111827] border-r border-gray-800 p-6">
    <h2 class="text-xl font-bold text-cyan-400 mb-8">IDS Console</h2>

    <nav class="space-y-4 text-sm">
      <a href="dashboard.html" class="block text-gray-400 hover:text-cyan-400">Dashboard</a>
      <a href="alerts.html" class="block text-gray-400 hover:text-cyan-400">Alerts</a>
      <a href="analytics.html" class="block text-cyan-400 font-semibold">Analytics</a>
      <a href="mitre.html" class="block text-gray-400 hover:text-cyan-400">MITRE ATT&CK</a>
      <a href="about.html" class="block text-gray-400 hover:text-cyan-400">About</a>
    </nav>
  </aside>

  <!-- ================= MAIN CONTENT ================= -->
  <main class="flex-1 p-6 space-y-10">

    <!-- Header -->
    <header>
      <h1 class="text-3xl font-bold text-cyan-400">Security Analytics</h1>
      <p class="text-gray-400 mt-1">
        Deep visibility into attack patterns, severity trends, and traffic behavior.
      </p>
    </header>

    <!-- ================= ROW 1 ================= -->
    <section class="grid grid-cols-2 gap-6">

      <!-- Severity Distribution -->
      <div class="bg-[#111827] border border-gray-800 rounded-lg p-6">
        <h3 class="text-lg font-semibold mb-1">Severity Distribution</h3>
        <p class="text-sm text-gray-400 mb-4">
          Overall classification of alerts by risk level.
        </p>
        <div id="severityChart" class="h-80"></div>
      </div>

      <!-- Attack Types -->
      <div class="bg-[#111827] border border-gray-800 rounded-lg p-6">
        <h3 class="text-lg font-semibold mb-1">Attack Types</h3>
        <p class="text-sm text-gray-400 mb-4">
          Distribution of detected attack categories.
        </p>
        <div id="attackTypeChart" class="h-80"></div>
      </div>

    </section>

    <!-- ================= ROW 2 ================= -->
    <section class="grid grid-cols-2 gap-6">

      <!-- Alerts Timeline -->
      <div class="bg-[#111827] border border-gray-800 rounded-lg p-6">
        <h3 class="text-lg font-semibold mb-1">Alerts Over Time</h3>
        <p class="text-sm text-gray-400 mb-4">
          Temporal view of alert generation activity.
        </p>
        <div id="timelineChart" class="h-80"></div>
      </div>

      <!-- Top Source IPs -->
      <div class="bg-[#111827] border border-gray-800 rounded-lg p-6">
        <h3 class="text-lg font-semibold mb-1">Top Source IPs</h3>
        <p class="text-sm text-gray-400 mb-4">
          Most frequent sources of malicious traffic.
        </p>
        <div id="sourceChart" class="h-80"></div>
      </div>

    </section>

    <!-- ================= INSIGHTS ================= -->
    <section class="bg-[#0f172a] border border-gray-800 rounded-lg p-6">
      <h3 class="text-lg font-semibold text-cyan-400 mb-3">
        Analytical Insights
      </h3>

      <ul id="insights" class="list-disc list-inside text-gray-300 space-y-2">
        <!-- Filled by JS -->
      </ul>
    </section>

  </main>

  <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
  <script src="../assets/js/analytics.js"></script>
</body>
</html>
